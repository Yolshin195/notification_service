# Получение отчета о рассылке

## Описание

Этот эндпоинт предназначен для получения статистики по созданным рассылкам и количеству отправленных сообщений по ним.

## URL

### Получение отчета по всем рассылкам

`GET /api/v1/dispatch-reports/`

### Получение отчета по конкретной рассылке

`GET /api/v1/dispatch-reports/{dispatch_id}/`

## Параметры запроса

### Получение отчета по всем рассылкам

Нет дополнительных параметров.

### Получение отчета по конкретной рассылке

| Параметр        | Тип    | Описание                                                   |
| --------------- | ------ | ---------------------------------------------------------- |
| `dispatch_id`   | Строка | Идентификатор рассылки, для которой запрашивается отчет.   |

## Пример запроса

### Получение отчета по всем рассылкам

```json
GET /api/v1/dispatch-reports/
```

### Получение отчета по конкретной рассылке

```json
GET /api/v1/dispatch-reports/08bc9620-c0e6-45a7-97ca-bbbf94a04bdf/
```

## Пример ответа

### Отчет по общей статистики по созданным рассылкам и количеству отправленных сообщений по ним с группировкой по статусам

```json
HTTP/1.1 200 OK
[
    {
        "id": "08bc9620-c0e6-45a7-97ca-bbbf94a04bdf",
        "start_datetime": "2024-01-21T15:52:00Z",
        "end_datetime": "2024-01-27T15:44:00Z",
        "message_text": "Test 5",
        "filter_mobile_operator_code__code": "911",
        "filter_tag__code": "javascript",
        "created": 0,
        "completed": 0,
        "error": 0,
        "timeout": 0
    },
    {
        "id": "0ee2b273-30c6-4be5-858f-f8c04d1e9261",
        "start_datetime": "2024-01-21T16:00:00Z",
        "end_datetime": "2024-01-27T15:44:00Z",
        "message_text": "Test 6",
        "filter_mobile_operator_code__code": "911",
        "filter_tag__code": "javascript",
        "created": 0,
        "completed": 0,
        "error": 0,
        "timeout": 0
    }
]
```

### Отчет по детальной статистики отправленных сообщений по конкретной рассылке

```json
HTTP/1.1 200 OK
{
    "id": "08bc9620-c0e6-45a7-97ca-bbbf94a04bdf",
    "start_datetime": "2024-01-21T15:52:00Z",
    "end_datetime": "2024-01-27T15:44:00Z",
    "message_text": "Test 5",
    "filter_mobile_operator_code__code": "911",
    "filter_tag__code": "javascript",
    "created": 0,
    "completed": 0,
    "error": 0,
    "timeout": 0
}
```

## Ошибки

| Код ошибки                    | Описание                                                  |
| ------------------------------ | --------------------------------------------------------- |
| 404 Not Found                 | Рассылка с указанным `dispatch_id` не найдена.             |
| 500 Internal Server Error     | Внутренняя ошибка сервера. Повторите попытку позже.       |

## Аутентификация

На данный момент аутентификация не требуется, она будет реализованна в следующих версия.
